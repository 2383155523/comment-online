let m=[];const y=new WeakMap;function E(){m.forEach(n=>n(...y.get(n))),m=[]}function T(n,...e){y.set(n,e),!m.includes(n)&&m.push(n)===1&&requestAnimationFrame(E)}function _(n,e){const r=n.trim().split(/\s+/g),t={top:r[0]};switch(r.length){case 1:t.right=r[0],t.bottom=r[0],t.left=r[0];break;case 2:t.right=r[1],t.left=r[1],t.bottom=r[0];break;case 3:t.right=r[1],t.bottom=r[2],t.left=r[1];break;case 4:t.right=r[1],t.bottom=r[2],t.left=r[3];break;default:throw new Error("[seemly/getMargin]:"+n+" is not a valid value.")}return e===void 0?t:t[e]}var A={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"};const l="^\\s*",h="\\s*$",f="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",$="([0-9A-Fa-f])",g="([0-9A-Fa-f]{2})",M=new RegExp(`${l}rgb\\s*\\(${f},${f},${f}\\)${h}`),v=new RegExp(`${l}rgba\\s*\\(${f},${f},${f},${f}\\)${h}`),H=new RegExp(`${l}#${$}${$}${$}${h}`),I=new RegExp(`${l}#${g}${g}${g}${h}`),N=new RegExp(`${l}#${$}${$}${$}${$}${h}`),q=new RegExp(`${l}#${g}${g}${g}${g}${h}`);function a(n){return parseInt(n,16)}function p(n){try{let e;if(e=I.exec(n))return[a(e[1]),a(e[2]),a(e[3]),1];if(e=M.exec(n))return[i(e[1]),i(e[5]),i(e[9]),1];if(e=v.exec(n))return[i(e[1]),i(e[5]),i(e[9]),x(e[13])];if(e=H.exec(n))return[a(e[1]+e[1]),a(e[2]+e[2]),a(e[3]+e[3]),1];if(e=q.exec(n))return[a(e[1]),a(e[2]),a(e[3]),x(a(e[4])/255)];if(e=N.exec(n))return[a(e[1]+e[1]),a(e[2]+e[2]),a(e[3]+e[3]),x(a(e[4]+e[4])/255)];if(n in A)return p(A[n]);throw new Error(`[seemly/rgba]: Invalid color value ${n}.`)}catch(e){throw e}}function O(n){return n>1?1:n<0?0:n}function R(n,e,r,t){return`rgba(${i(n)}, ${i(e)}, ${i(r)}, ${O(t)})`}function F(n,e,r,t,s){return i((n*e*(1-t)+r*t)/s)}function k(n,e){Array.isArray(n)||(n=p(n)),Array.isArray(e)||(e=p(e));const r=n[3],t=e[3],s=x(r+t-r*t);return R(F(n[0],r,e[0],t,s),F(n[1],r,e[1],t,s),F(n[2],r,e[2],t,s),s)}function z(n,e){const[r,t,s,c=1]=Array.isArray(n)?n:p(n);return e.alpha?R(r,t,s,e.alpha):R(r,t,s,c)}function W(n,e){const[r,t,s,c=1]=Array.isArray(n)?n:p(n),{lightness:o=1,alpha:w=1}=e;return S([r*o,t*o,s*o,c*w])}function x(n){const e=Math.round(Number(n)*100)/100;return e>1?1:e<0?0:e}function i(n){const e=Math.round(Number(n));return e>255?255:e<0?0:e}function S(n){const[e,r,t]=n;return 3 in n?`rgba(${i(e)}, ${i(r)}, ${i(t)}, ${x(n[3])})`:`rgba(${i(e)}, ${i(r)}, ${i(t)}, 1)`}globalThis&&globalThis.__awaiter;function j(n=8){return Math.random().toString(16).slice(2,2+n)}export{z as a,j as b,k as c,T as d,_ as g,p as r,W as s};
